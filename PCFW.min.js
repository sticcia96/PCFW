//Generated at 25-03-2013 17:59:51 
var c=void 0,e=!0,f=null,g=!1,PCFW={b:{},version:{major:0,minor:4,patch:4},getVersion:function(){return PCFW.version.major+"."+PCFW.version.minor+"."+PCFW.version.patch},init:function(){"plug.dj"===document.location.host&&(console.group("Plug.dj Coding FrameWork"),PCFW.c.init(),console.log("     _/_/_/      _/_/_/  _/_/_/_/  _/          _/\n    _/    _/  _/        _/        _/          _/ \n   _/_/_/    _/        _/_/_/    _/    _/    _/  \n  _/        _/        _/          _/  _/  _/     \n _/          _/_/_/  _/            _/  _/        "),
PCFW.console.log("Version "+PCFW.getVersion()+" initialized"),console.groupEnd())},kill:function(){PCFW.c.kill()},loadScript:function(a){if("string"===typeof a&&!(0===a.indexOf("http://")||0===a.indexOf("https://")||0===a.indexOf("chrome-extension://")&&$.browser.chrome))throw Error("Illegal URL");},console:{o:function(){return["[PCFW]"]},log:function(){for(var a=["[PCFW]"];arguments.length;)a.push([].shift.call(arguments));console.log.apply(console,a)},error:function(){for(var a=["[PCFW]"];arguments.length;)a.push([].shift.call(arguments));
console.error.apply(console,a)},trace:function(){for(var a=["[PCFW]"];arguments.length;)a.push([].shift.call(arguments));console.trace.apply(console,a)},info:function(){for(var a=["[PCFW]"];arguments.length;)a.push([].shift.call(arguments));console.info.apply(console,a)},warn:function(){for(var a=["[PCFW]"];arguments.length;)a.push([].shift.call(arguments));console.warn.apply(console,a)},assert:function(){for(var a=["[PCFW]"];arguments.length;)a.push([].shift.call(arguments));console.assert.apply(console,
a)}},commands:{d:{},add:function(a,b){a!==c&&(a=a.toString());return a===c||1>a.length||-1<a.indexOf(" ")||b===c||PCFW.commands.isset(a)===e?g:(PCFW.commands.d[a.toString()]=b,e)},remove:function(a){return a===c||PCFW.commands.d[a.toString()]===c?g:(delete PCFW.commands.d[a.toString()],e)},isset:function(a){return a===c?g:PCFW.commands.d[a.toString()]!==c},execute:function(a,b){if(PCFW.commands.isset(a)===g)return g;PCFW.commands.d[a.toString()](b)}},events:{CHAT:"chat",CURATE_UPDATE:"curateUpdate",
DJ_ADVANCE:"djAdvance",DJ_UPDATE:"djUpdate",FAN_JOIN:"fanJoin",FRIEND_JOIN:"friendJoin",MOD_SKIP:"modSkip",ROOM_SCORE_UPDATE:"roomScoreUpdate",USER_FAN:"userFan",USER_JOIN:"userJoin",USER_LEAVE:"userLeave",USER_SKIP:"userSkip",VOTE_SKIP:"voteSkip",VOTE_UPDATE:"voteUpdate",WAIT_LIST_UPDATE:"waitListUpdate",a:{},m:function(a,b){return a.priority>b.priority?1:a.priority<b.priority?-1:0},priority:{HIGHEST:0,HIGH:1,NORMAL:2,LOW:3,LOWEST:4,l:5,f:6},on:function(a,b,d){if(a===c||a===f||b===c||b===f)return g;
PCFW.events.a[a]===c&&(PCFW.events.a[a]=[]);if(d===c)d=PCFW.events.priority.NORMAL;else{var h=g,k;for(k in PCFW.events.priority)PCFW.events.priority[k]===d&&(h=e);h||(d=PCFW.events.priority.NORMAL)}PCFW.events.a[a].push({e:b,once:g,priority:d});PCFW.events.a[a].sort(PCFW.events.prioritySort);return e},once:function(a,b,d){if(a===c||a===f||b===c||b===f)return g;PCFW.events.a[a]===c&&(PCFW.events.a[a]=[]);d===c&&(d=PCFW.events.priority.NORMAL);PCFW.events.a[a].push({e:b,once:e,priority:d});PCFW.events.a[a].sort(PCFW.events.prioritySort);
return e},off:function(a,b){if(a===c||(a===f||b===c||b===f)||PCFW.events.a[a]===c)return g;var d=g,h;for(h in PCFW.events.a[a])PCFW.events.a[a][h].e===b&&(PCFW.events.a[a].splice(h,1),d=e);return d},emit:function(a,b){if(a===c||a===f||b===c||b===f)return g;if(PCFW.events.a[a]===c)return e;for(var d in PCFW.events.a[a]){if("undefined"!==typeof b.h&&b.h===e&&PCFW.events.a[a][d].priority<PCFW.events.priority.f)return;try{PCFW.events.a[a][d]===c||PCFW.events.a[a][d].e===c?PCFW.events.a[a].splice(d,1):
PCFW.events.a[a][d].e(b),PCFW.events.a[a][d].once&&PCFW.events.a[a].splice(d,1)}catch(h){PCFW.console.error("emit",{error:h,type:a,data:b})}}return e}},c:{init:function(){var a=Object.keys(PCFW.c);a.splice(0,2);for(var b in a)PCFW.c[a[b]].init()},kill:function(){var a=Object.keys(PCFW.c);a.splice(0,2);for(var b in a)PCFW.c[a[b]].kill()},n:{init:function(){PCFW.b.chatCommand=Models.chat.chatCommand;PCFW.events.on("chatSoundUpdate",$.proxy(Chat.onChatSoundUpdate,Chat));PCFW.events.on("chatDelete",$.proxy(Chat.onChatDelete,
Chat));PCFW.events.on("chatReceived",$.proxy(Chat.onChatReceived,Chat));PCFW.events.on("chatClear",$.proxy(Chat.onChatClear,Chat));PCFW.events.on("timestampUpdate",$.proxy(Chat.onTimestampUpdate,Chat));Models.chat.chatCommand=function(a){if(PCFW.b.chatCommand(a)===e)return e;if(0===a.length||"/"!==a.substring(0,1))return g;a=a.split(" ");PCFW.commands.execute(a.splice(0,1)[0].substring(1),a)};PCFW.b.i=Models.chat.dispatchEvent;Models.chat.dispatchEvent=function(a,b){PCFW.events.emit(a,b)}},kill:function(){Models.chat.chatCommand=
PCFW.b.chatCommand;Models.chat.dispatchEvent=PCFW.b.i}},chat:{init:function(){PCFW.b.g=SocketListener.chat;SocketListener.chat=function(a){Models.chat.receive(a);a.j=g;-1<$("<span/>").html(a.message).text().indexOf("@"+Models.p.data.username)+" "&&(a.j=e);API.delayDispatch(API.CHAT,a)}},kill:function(){SocketListener.chat=PCFW.b.g}},k:{init:function(){PCFW.b.delayDispatch=API.delayDispatch;API.delayDispatch=function(a,b){API.isReady&&(PCFW.events.emit(a,b),API.a[a]&&setTimeout(function(){API.dispatchEvent(a,
b);b=a=f},1E3))}},kill:function(){API.delayDispatch=PCFW.b.delayDispatch}}}};PCFW.init();window.PCFW=PCFW;
